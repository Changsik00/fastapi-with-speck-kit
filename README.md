# FastAPI SDD Project (with Spec-Kit)

ì´ í”„ë¡œì íŠ¸ëŠ” **ë°”ì´ë¸Œ ì½”ë”©(Vibe Coding)** íŠ¸ë Œë“œì— ë§ì¶°, GitHubì˜ [Spec-Kit](https://github.com/github/spec-kit)ì„ í™œìš©í•œ **ì‚¬ì–‘ ì£¼ë„ ê°œë°œ(Spec-Driven Development, SDD)**ì„ ì‹¤í—˜í•˜ê³  ì‹¤ë¬´ì— ì ìš©í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ì…ë‹ˆë‹¤.

## ğŸš€ Concept (ì½˜ì…‰íŠ¸)
- **Agent-Centric**: Antigravity ë° ìµœì‹  AI ì—ì´ì „íŠ¸ê°€ ì½ê³  ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…í™•í•œ ìŠ¤í™(Spec)ì„ ìš°ì„ í•©ë‹ˆë‹¤.
- **Spec over Code**: ì½”ë“œë¥¼ ë¨¼ì € ì§œëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `specify` CLIë¥¼ í†µí•´ `specs/` -> `plans/` -> `tasks/` ìˆœì„œë¡œ ì‚¬ê³  ê³¼ì •ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
- **FastAPI Optimized**: Pydantic v2ì™€ Python 3.12+ì˜ ìµœì‹  ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ íƒ€ì… ì•ˆì •ì„±ê³¼ ìë™ ë¬¸ì„œí™”(OpenAPI)ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.
- **Constitution (`.specify/memory/constitution.md`)**: í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì‘ì—…ì€ ì´ í—Œë²•ì— ì •ì˜ëœ Git Workflow, SDD í”„ë¡œì„¸ìŠ¤, Clean Architecture ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

## ğŸ›  Tech Stack (ê¸°ìˆ  ìŠ¤íƒ)
- **Framework**: FastAPI
- **Package Manager**: uv
- **SDD Tool**: Spec-Kit (`specify` CLI)
- **Runtime**: Python 3.12+
- **Auth**: JWT (OAuth2), Argon2, RBAC

## âš¡ Quick Start (ì‹œì‘í•˜ê¸°)

### 1. ì„¤ì¹˜ (Installation)
```bash
uv sync  # or pip install -r requirements.txt
```

### 2. ì„œë²„ ì‹¤í–‰ (Run Server)
```bash
uv run uvicorn app.main:app --reload
```
> **API Check**: ì„œë²„ ì‹¤í–‰ í›„ ë‹¤ìŒ ì£¼ì†Œì—ì„œ ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - **Swagger UI**: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
> - **ReDoc**: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

### 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Run Tests)
```bash
uv run pytest
```

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡° (Clean Architecture)
ì´ í”„ë¡œì íŠ¸ëŠ” ì—„ê²©í•œ **Clean Architecture** êµ¬ì¡°ë¥¼ ë”°ë¥´ë©°, ì¼ê´€ì„± ìˆëŠ” ë„¤ì´ë° ì»¨ë²¤ì…˜ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.

```
app/
â”œâ”€â”€ main.py              # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì  (Entrypoint)
â”œâ”€â”€ api/                 # í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µ (Router, Dependency Injection)
â”‚   â”œâ”€â”€ deps.py          # ê³µí†µ ì˜ì¡´ì„± (Auth Guard, DB Session)
â”‚   â””â”€â”€ v1/
â”‚       â”œâ”€â”€ auth.py      # ì¸ì¦ ì»¨íŠ¸ë¡¤ëŸ¬ (Thin Controller)
â”‚       â””â”€â”€ items.py     # ì•„ì´í…œ ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€ core/                # í•µì‹¬ ìœ í‹¸ë¦¬í‹°, ì„¤ì •, ì˜ˆì™¸ ì²˜ë¦¬
â”œâ”€â”€ services/            # ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
â”‚   â”œâ”€â”€ auth_service.py
â”‚   â””â”€â”€ item_service.py
â”œâ”€â”€ domain/              # ë„ë©”ì¸ ê³„ì¸µ (ìˆœìˆ˜ ë¡œì§, ì—”í‹°í‹°, ì¸í„°í˜ì´ìŠ¤)
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.py      # User Entity & DTOs
â”‚   â”‚   â””â”€â”€ item.py      # Item Entity & DTOs
â”‚   â””â”€â”€ repository_interfaces/
â”‚       â”œâ”€â”€ user_repository.py
â”‚       â””â”€â”€ item_repository.py
â””â”€â”€ infrastructure/      # ì¸í”„ë¼ ê³„ì¸µ (DB êµ¬í˜„ì²´)
    â””â”€â”€ repositories/
```

## ğŸ“š ë¬¸ì„œ (Documentation)
- **ìƒì„¸ ë¬¸ì„œ**: [docs/](docs/)
  - **[Clean Architecture Q&A](docs/clean_architecture_qna.md)**: ì•„í‚¤í…ì²˜ ê´€ë ¨ ì§ˆì˜ì‘ë‹µ.
  - **[Database Migration Guide](docs/database_migration_guide.md)**: âš ï¸ ì•ˆì „í•œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ìœ„í•œ ìš´ì˜ ë§¤ë‰´ì–¼.
  - **[DB Migration Policy](docs/db-migration-policy.md)**: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ì±….
- **ê¸°ëŠ¥ ëª…ì„¸ (Specs)**: `specs/` ë””ë ‰í† ë¦¬ ì°¸ì¡°.
- **ì•„í‚¤í…ì²˜ í—Œë²•**: [Constitution](.specify/memory/constitution.md)
- **AI ì—ì´ì „íŠ¸ ê°€ì´ë“œ**: [agent.md](agent.md)

## ğŸ“ ì›Œí¬í”Œë¡œìš° (Workflow - SDD)
ëª¨ë“  ê°œë°œì€ `specs/` ë””ë ‰í† ë¦¬ ë‚´ì˜ ë¬¸ì„œí™”ë¥¼ í†µí•´ ì§„í–‰ë©ë‹ˆë‹¤.
1. **Spec**: ìš”êµ¬ì‚¬í•­ ëª…ì„¸ ì‘ì„±
2. **Plan**: ê¸°ìˆ  ì„¤ê³„ ë° êµ¬í˜„ ê³„íš
3. **Tasks**: ì„¸ë¶€ ì‘ì—… ëª©ë¡ ì •ì˜
4. **Code**: êµ¬í˜„ ë° ê²€ì¦

## ğŸš€ í•™ìŠµ ë¡œë“œë§µ (Roadmap/Status)
- [x] ~~**1. Configuration**: `pydantic-settings`. êµ¬í˜„ ì™„ë£Œ.~~
- [x] ~~**2. Real Database**: `SQLModel` & `Supabase(PostgreSQL)`. êµ¬í˜„ ì™„ë£Œ.~~
- [x] ~~**3. Async Database**: `async`/`await` ì ìš©. êµ¬í˜„ ì™„ë£Œ.~~
- [x] ~~**4. Migrations**: `Alembic` ìŠ¤í‚¤ë§ˆ ê´€ë¦¬. êµ¬í˜„ ì™„ë£Œ.~~
- [x] ~~**5. Dependency Injection**: `Depends` ì²´ì¸ ë¦¬íŒ©í† ë§. êµ¬í˜„ ì™„ë£Œ.~~
- [x] ~~**6. Validation**: Pydantic Validator ì ìš©. êµ¬í˜„ ì™„ë£Œ.~~
- [x] ~~**7. Authentication**: JWT Login, Signup, Auth Guard, RBAC. êµ¬í˜„ ì™„ë£Œ.~~
- [ ] **8. Password Mgmt**: Change/Reset Password flow. (ì§„í–‰ ì¤‘)
- [ ] **9. CI/CD**: GitHub Actions pipeline setup.
- [ ] **10. Dockerize**: Dockerfile & docker-compose setup.

---
*Generated by Vibe Coding with Agentic Workflow.*
