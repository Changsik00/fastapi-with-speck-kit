# FastAPI SDD Project (with Spec-Kit)

ì´ í”„ë¡œì íŠ¸ëŠ” **ë°”ì´ë¸Œ ì½”ë”©(Vibe Coding)** íŠ¸ë Œë“œì— ë§ì¶°, GitHubì˜ [Spec-Kit](https://github.com/github/spec-kit)ì„ í™œìš©í•œ **ì‚¬ì–‘ ì£¼ë„ ê°œë°œ(Spec-Driven Development, SDD)**ì„ ì‹¤í—˜í•˜ê³  ì‹¤ë¬´ì— ì ìš©í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ì…ë‹ˆë‹¤.

## ğŸš€ Concept
- **Agent-Centric**: Antigravity ë° ìµœì‹  AI ì—ì´ì „íŠ¸ê°€ ì½ê³  ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…í™•í•œ ìŠ¤í™(Spec)ì„ ìš°ì„ í•©ë‹ˆë‹¤.
- **Spec over Code**: ì½”ë“œë¥¼ ë¨¼ì € ì§œëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `specify` CLIë¥¼ í†µí•´ `specs/` -> `plans/` -> `tasks/` ìˆœì„œë¡œ ì‚¬ê³  ê³¼ì •ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
- **FastAPI Optimized**: Pydantic v2ì™€ Python 3.12+ì˜ ìµœì‹  ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ íƒ€ì… ì•ˆì •ì„±ê³¼ ìë™ ë¬¸ì„œí™”(OpenAPI)ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.

- **Constitution (`.specify/memory/constitution.md`)**: í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì‘ì—…ì€ ì´ í—Œë²•ì— ì •ì˜ëœ Git Workflow, SDD í”„ë¡œì„¸ìŠ¤, Clean Architecture ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤. AgentëŠ” ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì´ ë¬¸ì„œë¥¼ ìˆ™ì§€í•´ì•¼ í•©ë‹ˆë‹¤.

## ğŸ›  Tech Stack
- **Framework**: FastAPI
- **Package Manager**: uv
- **SDD Tool**: Spec-Kit (`specify` CLI)
- **Runtime**: Python 3.12+

## Quick Start

### Installation
```bash
uv sync  # or pip install -r requirements.txt
```

### Run Server
```bash
uv run uvicorn app.main:app --reload
```
> **API Check**: ì„œë²„ ì‹¤í–‰ í›„ ë‹¤ìŒ ì£¼ì†Œì—ì„œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - **Swagger UI**: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
> - **ReDoc**: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

### Run Tests
```bash
uv run pytest
```

## 4. Project Structure (Clean Architecture)
The project follows a strict Clean Architecture layout:

```
app/
â”œâ”€â”€ main.py              # Application Entrypoint
â”œâ”€â”€ api/                 # Presentation Layer (Routes, Dependency Injection)
â”‚   â””â”€â”€ v1/
â”œâ”€â”€ core/                # Core Utilities, Config, Exceptions
â”œâ”€â”€ services/            # Application Layer (Business Logic, Use Cases)
â”œâ”€â”€ domain/              # Domain Layer (Entities, Repository Interfaces)
â”‚   â”œâ”€â”€ models/
â”‚   â””â”€â”€ repository_interfaces/
â””â”€â”€ infrastructure/      # Infrastructure Layer (DB, External APIs)
```

## ğŸ“š Documentation
- **Detailed Docs**: [docs/](docs/)
  - [Clean Architecture Q&A](docs/clean_architecture_qna.md)
  - [Clean Architecture Concept & Diagram](docs/clean_architecture_concept.md)
  - [Database Strategy (SQLModel + Alembic + asyncpg)](docs/database_strategy.md)
- **Feature Specs**: [specs/](specs/)
- **Architecture**: [Constitution](.specify/memory/constitution.md)

## ğŸ“ Workflow
1. **Specify**: ê¸°ëŠ¥ ëª…ì„¸ ì‘ì„± (`specs/{branch}/spec.md`)
2. **Clarify**: ìš”êµ¬ì‚¬í•­ êµ¬ì²´í™” ë° ì§ˆë¬¸ í•´ê²°
3. **Plan**: ê¸°ìˆ  ì„¤ê³„ ë° ì•„í‚¤í…ì²˜ ìˆ˜ë¦½
4. **Tasks**: êµ¬í˜„ ì‘ì—… ë‹¨ìœ„ ë¶„í•´
5. **Analyze**: ê¸°ì¡´ ì½”ë“œ ì˜í–¥ë„ ë¶„ì„
6. **Implement**: ì½”ë“œ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸

## ğŸ§ª Testing
We use `pytest` for testing.

```bash
uv run pytest
```

### Testing Strategy (Database Isolation)
To avoid polluting the real database (e.g., Supabase) during tests, we use **In-Memory SQLite**.
- **Run-time**: App connects to Real DB (PostgreSQL) via `.env`.
- **Test-time**: `tests/conftest.py` overrides the database dependency to use `sqlite+aiosqlite:///:memory:`.
- This ensures tests are fast, isolated, and safe to run anywhere.

> ğŸ’¡ ìì„¸í•œ ì ˆì°¨ëŠ” [Constitution](.specify/memory/constitution.md)ì„ ì°¸ê³ í•˜ì„¸ìš”.


## ğŸš€ Learning Roadmap (To-Do)
- [x] ~~**1. Configuration**: `pydantic-settings` & `.env` file implementation.~~
- [x] ~~**2. Real Database**: Replace InMemory with `SQLModel` & `SQLite` (Actual: Supabase PostgreSQL).~~
- [x] ~~**3. Async Database**: Convert Repository/Service to `async`/`await` (Already done with Real DB).~~
- [x] ~~**4. Migrations**: Database schema management with `Alembic`.~~
- [ ] **5. Dependency Injection**: Refactor `main.py` using `Depends` for dependency chains.
- [ ] **6. Authentication**: Implement JWT Login & User Domain.

---
*Generated by Vibe Coding with Agentic Workflow.*
